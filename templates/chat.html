<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MentorMatchup</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="../static/css/styles.css">
    <script src="../static/js/script.js"></script>
</head>
<script>
  document.addEventListener("DOMContentLoaded", function() {
      const urlParams = new URLSearchParams(window.location.search);
      const name = urlParams.get('name');

      if (name) {
          document.getElementById('chatName').innerText = name;
          document.getElementById('chatNamePlaceholder').innerText = name;
      }

      const promptButton = document.querySelector('.btn-prompt');
        const promptsContainer = document.querySelector('.conversation-prompts');

        promptButton.addEventListener('click', function() {
            promptsContainer.style.display = promptsContainer.style.display === 'none' ? 'block' : 'none';
        });

      const promptButtons = document.querySelectorAll('.prompt-circle');

      promptButtons.forEach(button => {
        button.addEventListener('click', function() {
        document.getElementById('textInput').value = this.innerText;
        document.querySelector('.conversation-prompts').style.display = 'none';
        });
      });

      document.getElementById("sendButton").addEventListener("click", function() {
    var message = document.getElementById("textInput").value;
    if (message.trim() !== '') {
      var chatWindow = document.getElementById("chatWindow");
      var newMessageDiv = document.createElement("div");
      newMessageDiv.classList.add("message-box", "right");
      newMessageDiv.textContent = message;
      chatWindow.appendChild(newMessageDiv);
      document.getElementById("textInput").value = '';
    }
  });
  });
</script>
<body>

<div class="container my-5">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: transparent;">
      <a class="navbar-brand primary-blue-color homepage-name" href="index.html">MentorMatchup</a>
      <div class="navbar-nav">
          <a class="nav-item nav-link active" href="messages.html"><strong>Matches</strong></a>
          <a class="nav-item nav-link" href="contact.html">Contact</a>
      </div>
      <div class="navbar-nav ml-auto">
          <button onclick="window.location.href='profile.html'" class="button-specs btn btn-outline-secondary rounded-pill mr-2">Lauren H</button>
      </div>
   </nav>

    <div class="container mt-3">
      <h3 id="chatName">Default Name</h3>
        <div class="chat-window" id="chatWindow">
          <div class="message-box left">
            Hi! I'm <span id="chatNamePlaceholder">Default Name</span>. Nice to meet you!
          </div>
        </div>
      </div>
      
      <div class="input-group p-3">
        <button class="btn btn-prompt rounded-circle">Conversation Prompt</button>
        <input type="text" id="textInput" class="form-control" placeholder="Start typing...">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button" id="sendButton"><i class="fas fa-arrow-up"></i></button>
        </div>
      </div>
</div>

<div class="conversation-prompts" style="display: none;">
  <div class="row">
      <div class="col-md-4">
          <button class="prompt-circle">What qualities do you look for in a workplace?</button>
      </div>
      <div class="col-md-4">
          <button class="prompt-circle">What challenges did you face when applying to jobs? How did you overcome them?</button>
      </div>
      <div class="col-md-4">
          <button class="prompt-circle">What tools do you use to keep track of your job applications? What information do you keep track of?</button>
      </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>